# âš¡ Ø¬Ø¯ÙˆÙ„ Ø³Ø±ÙŠØ¹ ngrok - Reference

**Ù„Ù„Ø±Ø¬ÙˆØ¹ Ø§Ù„Ø³Ø±ÙŠØ¹ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¹Ù…Ù„**

---

## ğŸ“‹ 4 Terminals Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Terminal 1: Django Backend                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ cd "Buses_BACK_END-main"                                    â”‚
â”‚ python -m venv .venv                                        â”‚
â”‚ .\.venv\Scripts\Activate.ps1                                â”‚
â”‚ pip install -r requirements.txt                             â”‚
â”‚ python manage.py migrate                                    â”‚
â”‚ python manage.py populate_database                          â”‚
â”‚ python manage.py runserver 127.0.0.1:8000                   â”‚
â”‚                                                             â”‚
â”‚ âœ… Ø§Ù„Ù†ØªÙŠØ¬Ø©: Starting development server...                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Terminal 2: ngrok Tunnel                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ngrok http 8000                                             â”‚
â”‚                                                             â”‚
â”‚ âœ… Ø§Ù„Ù†ØªÙŠØ¬Ø©: https://xxxx-xx-xxx-xxx.ngrok.io              â”‚
â”‚ ğŸ‘ˆ Ø§Ø­ÙØ¸ Ù‡Ø°Ø§ Ø§Ù„Ù€ URL!                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Terminal 3: Driver App                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ cd "Driver_APP-main"                                        â”‚
â”‚ flutter pub get                                             â”‚
â”‚ flutter run                                                 â”‚
â”‚                                                             â”‚
â”‚ âœ… Ø§Ù„Ù†ØªÙŠØ¬Ø©: ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø³Ø§Ø¦Ù‚ ÙŠÙØªØ­                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Terminal 4: User App                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ cd "user_app-main"                                          â”‚
â”‚ flutter pub get                                             â”‚
â”‚ flutter run                                                 â”‚
â”‚                                                             â”‚
â”‚ âœ… Ø§Ù„Ù†ØªÙŠØ¬Ø©: ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠÙØªØ­                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœï¸ 3 Ù…Ù„ÙØ§Øª Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©

### ğŸ“„ Ù…Ù„Ù 1: `BusTrackingSystem/settings.py`

| Ø§Ù„Ø³Ø·Ø± | Ø§Ù„Ø¨Ø­Ø« | Ø§Ø³ØªØ¨Ø¯Ù„ |
|------|-------|---------|
| ~26 | `ALLOWED_HOSTS = os.getenv('ALLOWED_HOSTS', 'localhost,127.0.0.1').split(',')` | Ø£Ø¶Ù: `'xxxx-xx-xxx-xxx.ngrok.io'` |
| ~49 | `CSRF_TRUSTED_ORIGINS` | Ø£Ø¶Ù: `'https://xxxx-xx-xxx-xxx.ngrok.io'` |
| ~56 | `CORS_ALLOWED_ORIGINS` | Ø£Ø¶Ù: `'https://xxxx-xx-xxx-xxx.ngrok.io'` |

---

### ğŸ“„ Ù…Ù„Ù 2: `Driver_APP-main/.env`

```diff
- API_BASE_URL=http://127.0.0.1:8000/api
+ API_BASE_URL=https://xxxx-xx-xxx-xxx.ngrok.io/api
```

---

### ğŸ“„ Ù…Ù„Ù 3: `user_app-main/lib/config/app_config.dart`

```diff
- static const String baseUrl = 'http://127.0.0.1:8000';
+ static const String baseUrl = 'https://xxxx-xx-xxx-xxx.ngrok.io';

- static const String websocketUrl = 'ws://127.0.0.1:8000/ws/bus-locations/';
+ static const String websocketUrl = 'wss://xxxx-xx-xxx-xxx.ngrok.io/ws/bus-locations/';
```

---

## ğŸ§ª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø³Ø±ÙŠØ¹Ø©

### âœ… Test 1: API Response
```powershell
curl https://xxxx-xx-xxx-xxx.ngrok.io/api/buses/
```

**Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©:**
```json
[{"bus_id": 1, "license_plate": "0101465", ...}]
```

---

### âœ… Test 2: Driver App
```
1. Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙŠÙØªØ­ âœ“
2. Ø§Ø®ØªØ± Ø§Ù„Ø­Ø§ÙÙ„Ø© 0101465 âœ“
3. Ø§Ø¶ØºØ· Start Tracking âœ“
4. "âœ… ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¨Ù†Ø¬Ø§Ø­" âœ“
```

---

### âœ… Test 3: User App
```
1. Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙŠÙØªØ­ âœ“
2. Ø®Ø±ÙŠØ·Ø© ØªØ¸Ù‡Ø± âœ“
3. Ø§Ù„Ø­Ø§ÙÙ„Ø© Ù…ÙˆØ¬ÙˆØ¯Ø© âœ“
4. Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙŠØªØ­Ø¯Ø« ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ âœ“
```

---

### âœ… Test 4: Ù…Ù† Ø£ÙŠ Ø¬Ù‡Ø§Ø²
```
https://xxxx-xx-xxx-xxx.ngrok.io/api/buses/
â†’ ÙŠØ¬Ø¨ ÙŠØ´ØªØºÙ„ Ù…Ù† Ø£ÙŠ Ø¬Ù‡Ø§Ø² Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª
```

---

## â±ï¸ Timeline Ø§Ù„ÙƒØ§Ù…Ù„

```
0:00 - 0:05   â†’ ØªØ«Ø¨ÙŠØª ngrok
0:05 - 0:10   â†’ ØªØ´ØºÙŠÙ„ Django
0:10 - 0:11   â†’ ØªØ´ØºÙŠÙ„ ngrok (Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ URL)
0:11 - 0:12   â†’ Ù†Ø³Ø® Ø§Ù„Ù€ URL
0:12 - 0:15   â†’ ØªØ­Ø¯ÙŠØ« settings.py
0:15 - 0:17   â†’ ØªØ­Ø¯ÙŠØ« .env + app_config.dart
0:17 - 0:22   â†’ ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª (Driver + User)
0:22 - 0:40   â†’ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø´Ø§Ù…Ù„
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
0:40 TOTAL    â†’ Ù†Ø¸Ø§Ù… ÙƒØ§Ù…Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª! ğŸ‰
```

---

## ğŸ” Troubleshooting Ø§Ù„Ø³Ø±ÙŠØ¹

| Ø§Ù„Ù…Ø´ÙƒÙ„Ø© | Ø§Ù„Ø³Ø¨Ø¨ | Ø§Ù„Ø­Ù„ |
|--------|------|------|
| `Connection refused` | Django Ù…Ùˆ Ø´ØºØ§Ù„ | Ø´ØºÙ‘Ù„ Terminal 1 |
| `Invalid hostname` | Ø§Ù„Ù€ URL Ø®Ø·Ø£ | Ø§Ù†Ø³Ø® Ø§Ù„Ù€ URL Ù…Ù† ngrok |
| `CORS error` | CORS Ù†Ø§Ù‚Øµ | Ø£Ø¶Ù ngrok URL ÙÙŠ settings.py |
| `WebSocket fail` | Ø§Ø³ØªØ®Ø¯Ø§Ù… ws Ø¨Ø¯Ù„ wss | ØºÙŠÙ‘Ø± ws Ø¥Ù„Ù‰ wss |
| `404 Not Found` | Ø§Ù„Ù€ API path Ø®Ø·Ø£ | ØªØ£ÙƒØ¯ Ù…Ù† `/api/` ÙÙŠ Ø§Ù„Ù€ URL |

---

## ğŸ“± URLs Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

| Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… | Ø§Ù„Ù€ URL |
|----------|---------|
| **REST API** | `https://xxxx-xx-xxx-xxx.ngrok.io/api/` |
| **Buses** | `https://xxxx-xx-xxx-xxx.ngrok.io/api/buses/` |
| **Bus Lines** | `https://xxxx-xx-xxx-xxx.ngrok.io/api/bus-lines/` |
| **WebSocket** | `wss://xxxx-xx-xxx-xxx.ngrok.io/ws/bus-locations/` |
| **Admin Panel** | `https://xxxx-xx-xxx-xxx.ngrok.io/admin/` |

---

## ğŸ” Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø«Ø§Ø¨ØªØ©

```
ğŸ‘¤ Username: aaa
ğŸ”‘ Token: d1afc8c6685f541724963a55cd0ebca599dac16f
ğŸšŒ Bus License Plate: 0101465
ğŸš Bus Line: Ø²Ø±Ø§Ø¹Ø© Ù…Ø±ÙØ£
ğŸ“ Stops: Ø²Ø±Ø§Ø¹Ø©, ÙŠÙ…Ù†
```

---

## ğŸ“Š Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª

```
Servers:              1 (Django)
Tunnels:              1 (ngrok)
Applications:         2 (Driver + User)
Terminals Needed:     4
Files to Edit:        3
Configuration Items:  7
Time Required:        40 minutes
Final Status:         ğŸŸ¢ Ready for Production
```

---

## ğŸ¯ Checklist Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ

- [ ] ngrok Ù…Ø«Ø¨Øª
- [ ] Django Ø´ØºÙ‘Ø§Ù„ ÙÙŠ Terminal 1
- [ ] ngrok tunnel Ù†Ø´Ø· ÙÙŠ Terminal 2
- [ ] Ø¹Ù†Ø¯Ùƒ Ø§Ù„Ù€ ngrok URL
- [ ] Ø­Ø¯Ù‘Ø«Øª settings.py Ø¨Ù€ ALLOWED_HOSTS
- [ ] Ø­Ø¯Ù‘Ø«Øª settings.py Ø¨Ù€ CSRF_TRUSTED_ORIGINS
- [ ] Ø­Ø¯Ù‘Ø«Øª settings.py Ø¨Ù€ CORS_ALLOWED_ORIGINS
- [ ] Ø­Ø¯Ù‘Ø«Øª .env Ø¨Ù€ API_BASE_URL
- [ ] Ø­Ø¯Ù‘Ø«Øª app_config.dart Ø¨Ù€ baseUrl
- [ ] Ø­Ø¯Ù‘Ø«Øª app_config.dart Ø¨Ù€ websocketUrl (wss://)
- [ ] Driver App Ø´ØºÙ‘Ø§Ù„ ÙÙŠ Terminal 3
- [ ] User App Ø´ØºÙ‘Ø§Ù„ ÙÙŠ Terminal 4
- [ ] Ø§Ø®ØªØ¨Ø±Øª API Ù…Ù† Ø§Ù„Ù…ØªØµÙØ­
- [ ] Ø§Ø®ØªØ¨Ø±Øª Ù…Ù† Ø§Ù„Ù‡Ø§ØªÙ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ
- [ ] ÙƒÙ„ Ø´ÙŠØ¡ ÙŠØ¹Ù…Ù„! âœ…

---

## ğŸ’¾ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹ÙŠØ©

```
Ø§Ù‚Ø±Ø£ Ù„Ù„Ø´Ø±Ø­:      NGROK_SETUP_GUIDE.md
Ø§Ù‚Ø±Ø£ Ù„Ù„Ø£Ù…Ø«Ù„Ø©:    NGROK_CONFIG_EXAMPLES.md
Ø§Ù‚Ø±Ø£ Ù„Ù„Ø£ÙˆØ§Ù…Ø±:    NGROK_QUICK_START.md
Ø§Ù‚Ø±Ø£ Ù„Ù„Ù…Ù„Ø®Øµ:     NGROK_FINAL_SUMMARY.md
```

---

## ğŸš€ Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†!

```
1. Ø§Ø·Ø¨Ø¹ Ù‡Ø°Ø§ Ø§Ù„Ù…Ù„Ù
2. Ø§ÙØªØ­ 4 Terminals
3. Ø§Ù†Ø³Ø® Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ù…Ù† Ø£Ø¹Ù„Ù‰
4. Ø­Ø¯Ù‘Ø« Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø«Ù„Ø§Ø«Ø©
5. Ø´ØºÙ‘Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª
6. Ø§Ø®ØªØ¨Ø±
7. Done! ğŸ‰
```

---

**Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«**: 28 Ø£ÙƒØªÙˆØ¨Ø± 2025  
**Ø§Ù„Ù‚Ø§Ù„Ø¨**: Ø¬Ø§Ù‡Ø² Ù„Ù„Ø·Ø¨Ø§Ø¹Ø© ÙˆØ§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø¨Ø§Ø´Ø±
